# RMU Character Sheet Exporter

![Latest Version](https://img.shields.io/badge/Version-1.4.0-blue)
![Foundry Version](https://img.shields.io/badge/Foundry-v13-orange)
![License](https://img.shields.io/badge/License-MIT-yellow)
![System](https://img.shields.io/badge/System-RMU-blue)
![Download Count](https://img.shields.io/github/downloads/Filroden/rmu-character-sheet-exporter/rmu-character-sheet-exporter.zip)
![Download Count](https://img.shields.io/github/downloads/Filroden/rmu-character-sheet-exporter/latest/rmu-character-sheet-exporter.zip)
![Last Commit](https://img.shields.io/github/last-commit/Filroden/rmu-character-sheet-exporter)
![Issues](https://img.shields.io/github/issues/Filroden/rmu-character-sheet-exporter)

This is a simple module to create a printable version of a character or creature sheet.

## How to use

Open the character or creature sheet from a token on the scene (see note below). Click the "Export Sheet" button in the window header of the sheet.

**Important**: the character or creature must have a token on the scene as some information is not generated by the system for actors in the sidebar such as their attacks or spells and this is needed for a complete character sheet.

![Window header of an actor sheet showing the Export Sheet button](https://github.com/Filroden/rmu-character-sheet-exporter/blob/main/screenshots/sheet_header.png)

This will open a preview window, showing options on the left and a preview of the character sheet on the right.

![Character Sheet Preview Window](https://github.com/Filroden/rmu-character-sheet-exporter/blob/main/screenshots/sheet_preview.png)

Depending on the template you select, you will be offered additional options:

- **Layout**: The sheet layout design you would like to use.
- **Theme**: The style of the sheet.
- **Output format**: The output format: the module currently only offers one printable export format, HTML.
- **Skill filters**: Choose if you want to show only ranked or favourite skills, or all skills
- **Section toggles**: Toggle on or off each section in the sheet.

Once exported, open HTML files in your browser and use your browser's "Print" function (either to a printer or to create a PDF). Sheets are set up to (hopefully) avoid adding page breaks in the middle of sections/lists.

Portrait images are stored within the HTML file (technical information: encoded in Base64) so that the single HTML file contains everything you need to print or use remotely.

## Localisation & Translation

The exported sheet combines text from three different sources. If you see English text in a translated sheet, it is likely due to one of the following:

- The **Sheet Layout** (this module): Labels for sections (e.g., "Inventory", "Defenses", "Weight") are provided by this module. If these are in English, the module may need a translation update for your language.
- **Game Data** (the RMU system): Rules data (e.g., skill names like "Acrobatics", stats like "Ag", or attack tables) are fetched directly from the Rolemaster Unified system. The module attempts to look up the translated name within the system's files. If the core RMU system has not translated a specific skill or item, it will fallback to English.
- **User Input** (your data): Text that you or the GM have manually typed (e.g., specific item names, character background, or custom skill specialisations) is exported exactly as it appears on the sheet.

## Character Capsule (from v1.4.0)

- **Embedded Raw Data:** The exported HTML file now silently contains a copy of your character's **Raw Foundry Data** (JSON). *Why?* This turns your HTML export into a self-contained backup. In a future update, I plan to allow re-importing characters directly from these HTML files.
- **Important Note on Editing:** The HTML file is a **visual display** of the data, not the data itself. If you edit the text in the HTML file it **will not** change the embedded backup data. *Think of it like a printed receipt:* Scribbling a new price on a receipt changes what you see on the paper, but it doesn't change what the bank actually charged you. Any future "Import" feature will read the hidden, unedited data block, *not* the visible text you see on the screen.

## Roadmap

- Add tournament template for tabletop gameplay at conventions
- Add function to extract embedded actor.json from html for import
- Add movement block
